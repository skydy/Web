(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7ee2"],{"1Uas":function(t,a,e){"use strict";var s=e("lrRv");e.n(s).a},"32NR":function(t,a,e){"use strict";var s=e("IUz3");e.n(s).a},"5ofp":function(t,a,e){"use strict";var s=e("MT78"),i=e.n(s),l=e("9CxU"),n=e("Kw5r"),o={name:"PieCharts",mixins:[l.a],props:{id:{type:String,default:"chart"},height:{type:String,default:"400px"},option:{type:Object,required:!0}},data:function(){return{myChart:{},pieData:{tooltip:{trigger:"item",formatter:""},series:[{name:"",type:"pie",avoidLabelOverlap:!1,labelLine:{normal:{show:!1}},data:[]}]}}},watch:{option:{handler:function(t,a){this.chartsInit()},deep:!0}},mounted:function(){this.chartsInit()},methods:{chartsInit:function(){this.myChart=i.a.init(document.getElementById(this.id)),n.default.set(this.pieData.tooltip,"formatter",this.option.formatter),n.default.set(this.pieData.series[0],"data",this.option.data),void 0!==this.option.name&&n.default.set(this.pieData.series[0],"name",this.option.name),void 0!==this.option.title&&n.default.set(this.pieData,"title",this.option.title),void 0!==this.option.radius&&n.default.set(this.pieData.series[0],"radius",this.option.radius),void 0!==this.option.legend&&n.default.set(this.pieData,"legend",this.option.legend),this.myChart.setOption(this.pieData)}}},r=(e("J7ew"),e("KHd+")),c=Object(r.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{height:this.height},attrs:{id:this.id}})},[],!1,null,"7e8de49a",null);c.options.__file="pieCharts.vue";a.a=c.exports},"9CxU":function(t,a,e){"use strict";var s=e("7Qib");a.a={data:function(){return{sidebarElm:null}},mounted:function(){var t=this;this.__resizeHandler=Object(s.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()}}}},D4nL:function(t,a,e){},IUz3:function(t,a,e){},J7ew:function(t,a,e){"use strict";var s=e("Tiit");e.n(s).a},KsNv:function(t,a,e){"use strict";var s=e("MT78"),i=e.n(s),l=e("9CxU"),n=e("Kw5r"),o={name:"LineCharts",mixins:[l.a],props:{id:{type:String,default:"chart"},height:{type:String,default:"400px"},option:{type:Object,required:!0}},data:function(){return{myChart:{},data:{color:["#C23531"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"",type:"bar",barWidth:"60%",data:[]}]}}},watch:{option:{handler:function(t,a){this.chartsInit()},deep:!0}},mounted:function(){this.chartsInit()},methods:{chartsInit:function(){this.myChart=i.a.init(document.getElementById(this.id)),void 0!==this.option.xData&&n.default.set(this.data.xAxis[0],"data",this.option.xData),n.default.set(this.data.series[0],"data",this.option.data),n.default.set(this.data.series[0],"name",this.option.name),void 0!==this.option.xType&&(n.default.set(this.data.xAxis[0],"type",this.option.xType),n.default.set(this.data.yAxis[0],"type",this.option.yType),n.default.set(this.data.yAxis[0],"data",this.option.yData)),void 0!==this.option.title&&n.default.set(this.data,"title",this.option.title),this.myChart.setOption(this.data)}}},r=(e("hljh"),e("KHd+")),c=Object(r.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{height:this.height},attrs:{id:this.id}})},[],!1,null,"cfd89e00",null);c.options.__file="barCharts.vue";a.a=c.exports},LoFl:function(t,a,e){"use strict";e.r(a);var s=e("t3Un");var i={name:"Core",data:function(){return{activeIndex:"1",allData1:[],allData2:[],allData3:[],menu:["昨天","7天","本月","自定义"],styleIndex:1,timeAlert:!1,timeVal:"",timeArr:[],loading:!0}},created:function(){this.getCoreFn({type:1,timeType:2}),this.getCoreFn({type:2,timeType:2}),this.getCoreFn({type:3,timeType:2})},methods:{handleSelect:function(t){this.styleIndex=1,this.activeIndex=t},getCoreFn:function(t){var a=this;(function(t){return Object(s.a)({url:"/core",method:"post",params:t})})(t).then(function(e){1==t.type&&(a.allData1=e.data.data),2==t.type&&(a.allData2=e.data.data),3==t.type&&(a.allData3=e.data.data),a.loading=!1})},exportBtn:function(){var t=this;(function(t){return Object(s.a)({url:"/coreExport",method:"post",params:t})})({type:this.styleIndex+1,time:this.timeArr}).then(function(a){console.log(a),t.$notify({title:"成功",message:a.data.data.message,type:"success"})})},search:function(t,a){this.styleIndex=a,a<3?this.getCoreFn({type:this.activeIndex,timeType:a+1}):this.timeAlert=!0},timeChange:function(){var t=new Date(this.timeVal[0]),a=new Date(this.timeVal[1]),e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.timeArr=[e,s],console.log(this.timeArr),this.getCoreFn({type:this.activeIndex,timeType:4,time:this.timeArr}),this.timeAlert=!1}}},l=(e("zuFx"),e("KHd+")),n=Object(l.a)(i,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[e("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"line-height":"60px"}},[t._v("核心指标")]),t._v(" "),e("span",[t._v("（")]),t._v(" "),t._l(t.menu,function(a,s){return e("span",{key:s,staticClass:"cursor",class:s==t.styleIndex?"hover":"",on:{click:function(e){t.search(a,s)}}},[t._v("\n\t\t\t"+t._s(a)+"\n\t\t\t"),3!=s?e("span",{staticStyle:{color:"#333"}},[t._v(" / ")]):t._e()])}),t._v(" "),e("span",[t._v("）")]),t._v(" "),e("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"mini"},on:{click:function(a){t.exportBtn()}}},[t._v("导出")]),t._v(" "),e("el-dialog",{attrs:{title:"请选择时间",visible:t.timeAlert,width:"30%",center:""},on:{"update:visible":function(a){t.timeAlert=a}}},[e("el-date-picker",{staticClass:"timePick",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.timeVal,callback:function(a){t.timeVal=a},expression:"timeVal"}}),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.timeAlert=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.timeChange()}}},[t._v("确 定")])],1)],1),t._v(" "),e("div",{staticStyle:{float:"right"}},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("医美数据")]),t._v(" "),e("el-menu-item",{attrs:{index:"2"}},[t._v("商城数据")]),t._v(" "),e("el-menu-item",{attrs:{index:"3"}},[t._v("用户数据")])],1)],1)],2),t._v(" "),"1"==t.activeIndex?e("div",[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 预约量")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.appointment_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.appointment_online_rate))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 医美成交额")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.medical_beauty_total))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.medical_beauty_total_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 积分总额")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.intergral_total))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.intergral_total_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 预约到院率")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.arrive_rate))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.arrive_rate_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 到院转化率")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.conversion_rate))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.conversion_rate_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 医院在线数")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.hospital_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.hospital_count_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 医生在线数")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.doctor_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.doctor_count_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 项目在线数")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData1.project_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData1.project_count_msg))])])],1),t._v(" "),t._l(4,function(a){return e("el-col",{key:a,attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[t._v(" ")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(" ")]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(" ")])])],1)})],2)],1):t._e(),t._v(" "),"2"==t.activeIndex?e("div",[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 订单量")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData2.order_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData2.order_count_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 商城成交额")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData2.shop_total))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData2.shop_total_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 积分成交额")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData2.shop_intergral_total))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData2.shop_intergral_total_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 在线商品数")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData2.goods_total))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData2.goods_total_msg))])])],1),t._v(" "),t._l(8,function(a){return e("el-col",{key:a,attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[t._v(" ")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(" ")]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(" ")])])],1)})],2)],1):t._e(),t._v(" "),"3"==t.activeIndex?e("div",[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 新增用户")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData3.users_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData3.users_count_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 分销用户")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData3.users_fx_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData3.users_fx_count_msg))])])],1),t._v(" "),t._l(10,function(a){return e("el-col",{key:a,attrs:{span:4}},[e("el-card",{staticClass:"box-card today-card conBody",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[t._v(" ")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(" ")])])],1)})],2)],1):t._e()])],1)},[],!1,null,"758d27a6",null);n.options.__file="core.vue";var o=n.exports,r=e("MT78"),c=e.n(r),d=e("9CxU"),p=e("Kw5r"),h={name:"LineCharts",mixins:[d.a],props:{id:{type:String,default:"chart"},height:{type:String,default:"400px"},option:{type:Object,required:!0}},data:function(){return{data:{title:{text:""},tooltip:{trigger:"axis"},legend:{data:[]},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[]}}},watch:{option:{handler:function(t,a){this.chartsInit()},deep:!0}},mounted:function(){this.chartsInit()},methods:{chartsInit:function(){var t=c.a.init(document.getElementById(this.id));p.default.set(this.data.title,"text",this.option.title),p.default.set(this.data.legend,"data",this.option.legendData),p.default.set(this.data.xAxis,"data",this.option.xData),p.default.set(this.data,"series",this.option.series),t.setOption(this.data)}}},v=(e("32NR"),Object(l.a)(h,function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{height:this.height},attrs:{id:this.id}})},[],!1,null,"0e449a34",null));v.options.__file="lineCharts.vue";var _=v.exports,u=e("KsNv");var m=e("5ofp"),y={name:"MonthData",components:{LineChart:_,BarChart:u.a,Pie:m.a},data:function(){return{monthIndex:"1",divId:"monthLine",barId:"ym-bar",divHeight:"400px",item1Option1:{},item1Data1:[],item1xData1:[],item1lData1:[],item2Option1:{},item2Option2:{},item2Data1:[],item2xData1:[],item2lData1:[],item3Option1:{},item3Option2:{},item3Data1:[],item3xData1:[],loading:!0,percentage1:[],PieId1:"Pie1",PieId2:"Pie2",pieHight:"400px",optionOfPie1:{},optionOfPie2:{}}},created:function(){this.getList({type:1}),this.getList({type:2}),this.getList({type:3})},methods:{typeSelect:function(t){var a=this;a.monthIndex="3",setTimeout(function(){a.monthIndex=t},10)},getList:function(t){var a=this;(function(t){return Object(s.a)({url:"/trend",method:"post",params:t})})(t).then(function(e){var s=e.data.data,i=e.data.data.list;1==t.type&&(i.forEach(function(t){a.item1Data1.push(t.value)}),i.forEach(function(t){a.item1xData1.push(t.time)}),a.item1lData1=[{value:s.seckill_project,name:"秒杀项目"},{value:s.integral_project,name:"积分项目"},{value:s.whole_project,name:"全款项目"},{value:s.routine_project,name:"常规项目"}],a.percentage1=[s.seckill_project_rate,s.integral_project_rate,s.whole_project_rate,s.routine_project_rate],a.item1Option1={title:"近30天数据",legendData:["近30天数据"],xData:a.item1xData1,series:[{type:"line",stack:"总量",smooth:!0,data:a.item1Data1}]},a.optionOfPie1={formatter:"{a} <br/>{b}: {c} ({d}%)",title:{text:"项目成交"},legend:{orient:"vertical",x:"right",data:["秒杀项目","积分项目","全款项目","常规项目"]},name:"项目成交",radius:["0%","80%"],data:a.item1lData1}),2==t.type&&(i.forEach(function(t){a.item2Data1.push(t.value)}),i.forEach(function(t){a.item2xData1.push(t.time)}),a.item2lData1=[{value:s.order_count_a,name:"大于0小于20"},{value:s.order_count_b,name:"大于20小于100"},{value:s.order_count_c,name:"大于100小于300"},{value:s.order_count_d,name:"大于等于300"}],a.item2Option1={title:"近30天数据",legendData:["近30天数据"],xData:a.item2xData1,series:[{type:"line",stack:"总量",smooth:!0,data:a.item2Data1}]},a.optionOfPie2={formatter:"{a} <br/>{b}: {c} ({d}%)",title:{text:"商城客单分层"},legend:{orient:"vertical",x:"right",data:["大于0小于20","大于20小于100","大于100小于300","大于等于300"]},name:"商城客单分层",radius:["0%","80%"],data:a.item2lData1}),3==t.type&&(i.forEach(function(t){a.item3Data1.push(t.value)}),i.forEach(function(t){a.item3xData1.push(t.time)}),a.item3Option1={title:"近30天数据",legendData:["近30天数据"],xData:a.item3xData1,series:[{type:"line",stack:"总量",smooth:!0,data:a.item3Data1}]}),a.loading=!1})}}},g=(e("nZEM"),Object(l.a)(y,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[e("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"line-height":"60px"}},[t._v("近30天趋势")]),t._v(" "),e("div",{staticStyle:{float:"right"}},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.monthIndex,mode:"horizontal"},on:{select:t.typeSelect}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("医美数据")]),t._v(" "),e("el-menu-item",{attrs:{index:"2"}},[t._v("商城数据")]),t._v(" "),e("el-menu-item",{attrs:{index:"3"}},[t._v("用户数据")])],1)],1)]),t._v(" "),"1"==t.monthIndex?e("div",[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:16}},[e("LineChart",{attrs:{id:t.divId,height:t.divHeight,option:t.item1Option1}})],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("Pie",{attrs:{id:t.PieId1,option:t.optionOfPie1,height:t.pieHight}})],1)],1)],1):t._e(),t._v(" "),"2"==t.monthIndex?e("div",[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:16}},[e("LineChart",{attrs:{id:t.divId,height:t.divHeight,option:t.item2Option1}})],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("Pie",{attrs:{id:t.PieId2,option:t.optionOfPie2,height:t.pieHight}})],1)],1)],1):t._e(),t._v(" "),"3"==t.monthIndex?e("div",[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:16}},[e("LineChart",{attrs:{id:t.divId,height:t.divHeight,option:t.item3Option1}})],1)],1)],1):t._e()])],1)},[],!1,null,"1a6a3e3e",null));g.options.__file="monthData.vue";var f=g.exports;var C={name:"Top10",data:function(){return{projectOpen:!0,shopOpen:!0,HospitalOpen:!0,tableData:[{rank:1,project:"lala",name:"yaya",sub:1234,amount:12345}],tableData1:[],beforeData1:[],tableData2:[],beforeData2:[],tableData3:[],beforeData3:[],styleIndex1:1,styleIndex2:1,styleIndex3:1,stylesearch1:1,stylesearch2:1,stylesearch3:1,menu:["昨天","7天","本月","自定义"],timeAlert1:!1,timeAlert2:!1,timeAlert3:!1,timeVal:"",types:1,timeArr:[],pageTpye:2,loading:!0}},created:function(){this.getTopList({type:1,timeType:2},1),this.getTopList({type:2,timeType:2},1),this.getTopList({type:3,timeType:2},1)},methods:{styleChange1:function(t){this.styleIndex1=t,this.pageTpye<3?this.getTopList({type:1,timeType:this.pageTpye},t):this.getTopList({type:1,timeType:this.pageTpye,time:this.timeArr},t)},styleChange2:function(t){this.styleIndex2=t,this.pageTpye<3?this.getTopList({type:2,timeType:this.pageTpye},t):this.getTopList({type:2,timeType:this.pageTpye,time:this.timeArr},t)},styleChange3:function(t){this.styleIndex3=t,this.pageTpye<3?this.getTopList({type:3,timeType:this.pageTpye},t):this.getTopList({type:3,timeType:this.pageTpye,time:this.timeArr},t)},search1:function(t,a,e){this.types=e,this.stylesearch1=a,this.pageTpye=a+1,a<3?this.getTopList({type:e,timeType:a+1},this.styleIndex1):this.timeAlert1=!0},search2:function(t,a,e){this.types=e,this.stylesearch2=a,this.pageTpye=a+1,a<3?this.getTopList({type:e,timeType:a+1},this.styleIndex1):this.timeAlert2=!0},search3:function(t,a,e){this.types=e,this.stylesearch3=a,this.pageTpye=a+1,a<3?this.getTopList({type:e,timeType:a+1},this.styleIndex1):this.timeAlert3=!0},timeChange1:function(){var t=new Date(this.timeVal[0]),a=new Date(this.timeVal[1]),e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.timeArr=[e,s],this.getTopList({type:this.types,timeType:4,time:this.timeArr},this.styleIndex1),this.timeAlert1=!1},timeChange2:function(){var t=new Date(this.timeVal[0]),a=new Date(this.timeVal[1]),e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.timeArr=[e,s],this.getTopList({type:this.types,timeType:4,time:this.timeArr},this.styleIndex1),this.timeAlert2=!1},timeChange3:function(){var t=new Date(this.timeVal[0]),a=new Date(this.timeVal[1]),e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.timeArr=[e,s],this.getTopList({type:this.types,timeType:4,time:this.timeArr},this.styleIndex1),this.timeAlert3=!1},getTopList:function(t,a){var e=this;(function(t){return Object(s.a)({url:"/top",method:"post",params:t})})(t).then(function(s){var i=s.data.data.one;1==a&&(i=s.data.data.one),2==a&&(i=s.data.data.two),1==t.type&&(e.beforeData1=[],i.forEach(function(t){e.beforeData1.push({rank:t.rank,imgSrc:t.img,name:t.name,count:t.count})}),e.tableData1=e.beforeData1),2==t.type&&(e.beforeData2=[],i.forEach(function(t){e.beforeData2.push({rank:t.rank,imgSrc:t.img,name:t.name,count:t.count,total:t.total})}),e.tableData2=e.beforeData2),3==t.type&&(e.beforeData3=[],i.forEach(function(t){e.beforeData3.push({rank:t.rank,imgSrc:t.img,cate:t.cate,count:t.count,total:t.total})}),e.tableData3=e.beforeData3),e.loading=!1})}}},x=(e("WZ1N"),Object(l.a)(C,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-top":"10px"},attrs:{gutter:10}},[e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("项目top榜")]),t._v(" "),e("span",[t._v("（")]),t._v(" "),t._l(t.menu,function(a,s){return e("span",{key:s,staticClass:"cursor",class:s==t.stylesearch1?"hover":"",on:{click:function(e){t.search1(a,s,1)}}},[t._v("\n\t\t\t"+t._s(a)+"\n\t\t\t"),3!=s?e("span",{staticStyle:{color:"#333"}},[t._v(" / ")]):t._e()])}),t._v(" "),e("span",[t._v("）")]),t._v(" "),e("el-dialog",{attrs:{title:"请选择时间",visible:t.timeAlert1,width:"30%",center:""},on:{"update:visible":function(a){t.timeAlert1=a}}},[e("el-date-picker",{staticClass:"timePick",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.timeVal,callback:function(a){t.timeVal=a},expression:"timeVal"}}),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.timeAlert1=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.timeChange1()}}},[t._v("确 定")])],1)],1),t._v(" "),e("div",{staticClass:"pageDiv fr"},t._l(2,function(a){return e("span",{class:a==t.styleIndex1?"select":"",on:{click:function(e){t.styleChange1(a)}}},[t._v("\n\t\t\t\t\t"+t._s(a)+"\n\t\t\t\t")])}))],2),t._v(" "),e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1}},[e("el-table-column",{attrs:{align:"center",prop:"rank",label:"排名",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"imgSrc",label:"图片",width:"160"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.imgSrc,width:"100",height:"100"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"name",label:"项目",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"count",label:"预约量"}})],1)],1)])],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("医院top榜")]),t._v(" "),e("span",[t._v("（")]),t._v(" "),t._l(t.menu,function(a,s){return e("span",{key:s,staticClass:"cursor",class:s==t.stylesearch2?"hover":"",on:{click:function(e){t.search2(a,s,2)}}},[t._v("\n\t\t\t"+t._s(a)+"\n\t\t\t"),3!=s?e("span",{staticStyle:{color:"#333"}},[t._v(" / ")]):t._e()])}),t._v(" "),e("span",[t._v("）")]),t._v(" "),e("el-dialog",{attrs:{title:"请选择时间",visible:t.timeAlert2,width:"30%",center:""},on:{"update:visible":function(a){t.timeAlert2=a}}},[e("el-date-picker",{staticClass:"timePick",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.timeVal,callback:function(a){t.timeVal=a},expression:"timeVal"}}),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.timeAlert2=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.timeChange2()}}},[t._v("确 定")])],1)],1),t._v(" "),e("div",{staticClass:"pageDiv fr"},t._l(2,function(a){return e("span",{class:a==t.styleIndex2?"select":"",on:{click:function(e){t.styleChange2(a)}}},[t._v("\n\t\t\t\t\t"+t._s(a)+"\n\t\t\t\t")])}))],2),t._v(" "),e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2}},[e("el-table-column",{attrs:{align:"center",prop:"rank",label:"排名",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"imgSrc",label:"图片",width:"160"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.imgSrc,width:"100",height:"100"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"name",label:"名称"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"count",label:"预约量"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"total",label:"成交额"}})],1)],1)])],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("商城top榜")]),t._v(" "),e("span",[t._v("（")]),t._v(" "),t._l(t.menu,function(a,s){return e("span",{key:s,staticClass:"cursor",class:s==t.stylesearch3?"hover":"",on:{click:function(e){t.search3(a,s,3)}}},[t._v("\n\t\t\t"+t._s(a)+"\n\t\t\t"),3!=s?e("span",{staticStyle:{color:"#333"}},[t._v(" / ")]):t._e()])}),t._v(" "),e("span",[t._v("）")]),t._v(" "),e("div",{staticClass:"pageDiv fr"},t._l(2,function(a){return e("span",{class:a==t.styleIndex3?"select":"",on:{click:function(e){t.styleChange3(a)}}},[t._v("\n\t\t\t\t\t"+t._s(a)+"\n\t\t\t\t")])})),t._v(" "),e("el-dialog",{attrs:{title:"请选择时间",visible:t.timeAlert3,width:"30%",center:""},on:{"update:visible":function(a){t.timeAlert3=a}}},[e("el-date-picker",{staticClass:"timePick",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.timeVal,callback:function(a){t.timeVal=a},expression:"timeVal"}}),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.timeAlert3=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.timeChange3()}}},[t._v("确 定")])],1)],1)],2),t._v(" "),e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData3}},[e("el-table-column",{attrs:{align:"center",prop:"rank",label:"排名",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"imgSrc",label:"图片",width:"160"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.imgSrc,width:"100",height:"100"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"cate",label:"分类"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"count",label:"销量"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"total",label:"成交额"}})],1)],1)])],1)],1)},[],!1,null,"7f256024",null));x.options.__file="top10.vue";var D=x.exports;function b(t){return Object(s.a)({url:"/today",method:"post",params:t})}var w={name:"Other",components:{Pie:m.a},data:function(){return{visible:"visible",hidden:"hidden",otherIndex:"1",firstPieId:"firstPie",secondPieId:"secondPieId",pieHight:"218px",optionOfPie1:{},optionOfPie2:{},allData:[],makeData1:[],makeData2:[],dealData1:[],dealData2:[],loading:!0}},created:function(){this.realTimeData({type:"1"}),this.getList({type:1}),this.getList({type:2})},methods:{realTimeData:function(t){var a=this;b(t).then(function(t){var e=t.data.data;a.allData=e})},proSelect:function(t){this.otherIndex=t},getList:function(t){var a=this;(function(t){return Object(s.a)({url:"/deal",method:"post",params:t})})(t).then(function(e){a.makeData1=[],a.makeData2=[],a.dealData1=[],a.dealData2=[],1==t.type&&(e.data.data.forEach(function(t){a.makeData1.push(t.name)}),e.data.data.forEach(function(t){var e=t.rate.replace("%","");a.makeData2.push({value:e,name:t.name})}),a.optionOfPie1={formatter:"{a} <br/>{b}: {c} ({d}%)",title:{text:"预约占比"},legend:{orient:"vertical",x:"right",data:a.makeData1},name:"预约占比",radius:["30%","70%"],data:a.makeData2}),2==t.type&&(e.data.data.forEach(function(t){a.dealData1.push(t.name)}),e.data.data.forEach(function(t){var e=t.rate.replace("%","");a.dealData2.push({value:e,name:t.name})}),a.optionOfPie2={formatter:"{a} <br/>{b}: {c} ({d}%)",legend:{orient:"vertical",x:"right",data:a.dealData1},title:{text:"项目成交占比"},name:"项目成交占比",radius:["30%","70%"],data:a.dealData2}),a.loading=!1})}}},k=(e("P/QC"),Object(l.a)(w,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-top":"10px"},attrs:{gutter:10}},[e("el-col",{attrs:{span:16}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"line-height":"60px"}},[t._v("医美成交占比（30天）")]),t._v(" "),e("div",{staticStyle:{float:"right"}},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.otherIndex,mode:"horizontal"},on:{select:t.proSelect}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("预约占比")]),t._v(" "),e("el-menu-item",{attrs:{index:"2"}},[t._v("成交占比")])],1)],1)]),t._v(" "),e("div",{class:{visibility:"1"==t.otherIndex,hidden:"1"!=t.otherIndex}},[e("Pie",{attrs:{id:t.firstPieId,option:t.optionOfPie1,height:t.pieHight}})],1),t._v(" "),e("div",{class:{visibility:"2"==t.otherIndex,hidden:"2"!=t.otherIndex}},[e("Pie",{attrs:{id:t.secondPieId,option:t.optionOfPie2,height:t.pieHight}})],1)])],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"line-height":"60px"}},[t._v("其他概况")])]),t._v(" "),e("div",[e("p",[e("span",{staticClass:"left"},[t._v("总积分量")]),t._v(" "),e("span",{staticClass:"right"},[t._v(t._s(t.allData.integral_total))])]),t._v(" "),e("p",[e("span",{staticClass:"left"},[t._v("有效积分")]),t._v(" "),e("span",{staticClass:"right"},[t._v(t._s(t.allData.integral_valid))])]),t._v(" "),e("p",[e("span",{staticClass:"left"},[t._v("可提现积分")]),t._v(" "),e("span",{staticClass:"right"},[t._v(t._s(t.allData.integral_draw))])]),t._v(" "),e("p",[e("span",{staticClass:"left"},[t._v("活动积分")]),t._v(" "),e("span",{staticClass:"right"},[t._v(t._s(t.allData.integral_activity))])]),t._v(" "),e("p",[e("span",{staticClass:"left"},[t._v("上月释放总积分")]),t._v(" "),e("span",{staticClass:"right"},[t._v(t._s(t.allData.integral_release_yestermonth))])]),t._v(" "),e("p",[e("span",{staticClass:"left"},[t._v("上月消耗总积分")]),t._v(" "),e("span",{staticClass:"right"},[t._v(t._s(t.allData.integral_consume_yestermonth))])]),t._v(" "),e("p",[e("span",{staticClass:"left"},[t._v("总用户量")]),t._v(" "),e("span",{staticClass:"right"},[t._v(t._s(t.allData.user_count))])])])])],1)],1)},[],!1,null,"ec10f7c8",null));k.options.__file="other.vue";var I={name:"ManagementCenter",components:{Core:o,MonthData:f,LineCharts:_,Top:D,Other:k.exports},data:function(){return{chartsId:"today-data-line",chartsHeight:"100%",options1:{},options2:{},activeIndex:"1",todayDate:[],yesterdayDate:[],allData:[],loading:!0}},created:function(){this.realTimeData({type:"1"}),this.realTimeData({type:"2"})},methods:{handleSelect:function(t){this.activeIndex=t},realTimeData:function(t){var a=this;b(t).then(function(e){var s=e.data.data;a.allData=s,a.todayDate=[],a.yesterdayDate=[],s.today.forEach(function(t){a.todayDate.push(t.value)}),s.yesterday.forEach(function(t){a.yesterdayDate.push(t.value)}),1==t.type&&(a.options1={text:"24H 实况折线图",legendData:["昨日数据","今日数据"],xData:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],series:[{name:"昨日数据",type:"line",stack:"昨日",smooth:!0,data:a.yesterdayDate},{name:"今日数据",type:"line",stack:"今日",smooth:!0,data:a.todayDate}]}),2==t.type&&(a.options2={text:"24H 实况折线图",legendData:["昨日数据","今日数据"],xData:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],series:[{name:"昨日数据",type:"line",stack:"昨日",smooth:!0,data:a.yesterdayDate},{name:"今日数据",type:"line",stack:"今日",smooth:!0,data:a.todayDate}]}),a.loading=!1})},getIndexData:function(){return!1}}},T=(e("1Uas"),Object(l.a)(I,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("实时概况（24h）")]),t._v(" "),e("el-menu",{staticClass:"el-menu-demo fr",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("医美概况")]),t._v(" "),e("el-menu-item",{attrs:{index:"2"}},[t._v("商城概况")])],1)],1),t._v(" "),"1"==t.activeIndex?e("div",{staticStyle:{height:"374px"}},[e("LineCharts",{attrs:{id:t.chartsId,option:t.options1,height:t.chartsHeight}})],1):t._e(),t._v(" "),"2"==t.activeIndex?e("div",{staticStyle:{height:"374px"}},[e("LineCharts",{attrs:{id:t.chartsId,option:t.options2,height:t.chartsHeight}})],1):t._e()])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{float:"right",padding:"3px 0",height:"61px"},attrs:{type:"text"}},[t._v("今日数据")])]),t._v(" "),e("div",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 预约量")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData.appointment_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData.appointment_count_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 商城订单")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData.order_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(" ")])])],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 新增用户")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData.user_count))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData.fx_user_count_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 医美成交额")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData.medical_beauty_total))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData.medical_beauty_total_msg))])])],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"today-card",attrs:{shadow:"hover"}},[e("p",{staticClass:"today-title"},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 商城成交额")]),t._v(" "),e("p",{staticClass:"today-data"},[t._v(t._s(t.allData.order_total))]),t._v(" "),e("p",{staticClass:"today-pro"},[t._v(t._s(t.allData.order_total_msg))])])],1)],1)],1)])],1)],1),t._v(" "),e("Core"),t._v(" "),e("MonthData"),t._v(" "),e("Top"),t._v(" "),e("Other")],1)},[],!1,null,null,null));T.options.__file="managementCenter.vue";a.default=T.exports},N2Fl:function(t,a,e){},Obmd:function(t,a,e){},"P/QC":function(t,a,e){"use strict";var s=e("N2Fl");e.n(s).a},Tiit:function(t,a,e){},WZ1N:function(t,a,e){"use strict";var s=e("Obmd");e.n(s).a},X0J6:function(t,a,e){},hljh:function(t,a,e){"use strict";var s=e("D4nL");e.n(s).a},lrRv:function(t,a,e){},nZEM:function(t,a,e){"use strict";var s=e("X0J6");e.n(s).a},tIw5:function(t,a,e){},zuFx:function(t,a,e){"use strict";var s=e("tIw5");e.n(s).a}}]);